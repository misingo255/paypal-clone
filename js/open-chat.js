"use strict";function t(){this.loadScript=function(t,e){var o=document.createElement("script");o.src=t,o.defer=!0,"function"==typeof e&&(o.onload=e),o.onerror=function(t){};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(o,n)},this.doGet=function(t,e){var o=new XMLHttpRequest;o.open("GET",t,!0),o.onreadystatechange=function(){if(4==o.readyState||"complete"===o.readyState)switch(o.status){case 200:if("function"==typeof e)try{var t=JSON.parse(o.responseText);e(t)}catch(t){e({},{status:o.status,message:"Wrong response"})}break;default:"function"==typeof e&&e({},{status:o.status,message:"Chat not available"})}},o.send()}}!function(e){var o,n=new t,a=0,i="/smartchat/open/chat-meta?app=sales";!function t(){if(document.body){o=document.location.pathname;var s=function(t,o){if("object"!=typeof o){for(var a in e.openChat=e.openChat?e.openChat:{},t)"sys"!==a&&(e.openChat[a]=t[a]);window.openChat.chatState&&window.openChat.chatState.conversationId||sessionStorage.removeItem("org.cometd.reload"),window.Promise?n.loadScript(t.chatScript):n.loadScript("/smartchat/js/polyfill.js",(function(){n.loadScript(t.chatScript)}))}},c="/smartchat/open/eligibility?intent=SALESCHAT&page="+o;n.doGet(c,(function(t,e){if(window.openSalesChat=function(){n.doGet(i,s)},e){if("object"==typeof e)return}else t.eligible&&n.doGet(i,s)}))}else++a<10&&setTimeout(t,200)}()}(window);